{% extends "base.html.twig" %}

{% block title %}BACKOFFICE | Utilisateurs{% endblock %}

{% block body %}
<div class="adminContentBox">

    {% for classes,messages in app.flashes %}
    <div class="text-center alert alert-{{ classes }}">
        {% for message in messages %}
        {{ message }} <br>
        {% endfor %}
    </div>
    {% endfor %}

    <h1>Gestion des utilisateurs</h1>

    <table class="table table-dark table-bordered text-center">
        <thead>
            <tr>
                {% for colonne in colonnes %}
                {% if colonne != 'id' %}
                <th>{{ colonne|capitalize }}</th>
                {% endif %}
                {% endfor %}
                <th>Editer / Supprimer </th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr class="align-middle">
                <td>{{user.email}}</td>
                <td>{% for role in user.roles %}
                    {{ role }} <br>
                    {% endfor %}</td>
                <td>⛔️</td>
                <td>{{user.pseudo|capitalize}}</td>
                <td class="btnAdmin"><a href="{{path('admin_user_edit', {id: user.id})}}"
                        class="profilCercle blueGradient shadows"><i class="fas fa-edit"></i></a></td>
                <td class="btnAdmin"><a href="{{path('admin_user_delete', {id: user.id})}}" class="profilCercle redGradient shadows"><i
                            class="fas fa-trash-alt"></i></a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}